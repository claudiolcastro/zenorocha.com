<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The importance of CDN // Zeno Rocha</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="alternate icon" href="/favicon.ico">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/highlight.css">
  <link rel="stylesheet" href="/css/senna.css">

  <script src="/js/senna.min.js"></script>
  <script src="/js/headroom.min.js"></script>
  <script src="/js/main.js"></script>

  <!-- Inspectlet -->
  <script>
    window.__insp = window.__insp || [];
    __insp.push(['wid', 772378335]);
    (function() {
      function __ldinsp(){var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); }
      if (window.attachEvent){
        window.attachEvent('onload', __ldinsp);
      }else{
        window.addEventListener('load', __ldinsp, false);
      }
    })();
  </script>

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4114546-2', 'auto');
    ga('send', 'pageview');
  </script>
</head>
<body data-senna data-senna-surface>
  <div class="senna-loading-bar"></div>

  <header class="site-header site-header-white">
    <a href="/" class="logo">zeno</a>
  
    <nav class="site-nav">
      <ul>
        <li><a href="/articles/">Articles</a></li>
        <li><a href="/talks/">Talks</a></li>
        <li><a href="/projects/">Projects</a></li>
        <li><a href="/reminder/">Reminder</a></li>
      </ul>
    </nav>
  
    <div class="nav-social">
      <a href="https://twitter.com/zenorocha" target="_blank" title="Twitter">
        <img src="/images/icon-twitter.svg" alt="Twitter">
      </a>
      <a href="https://instagram.com/zenorocha" target="_blank" title="Instagram">
        <img src="/images/icon-instagram.svg" alt="Instagram">
      </a>
      <a href="https://github.com/zenorocha" target="_blank" title="GitHub">
        <img src="/images/icon-github.svg" alt="GitHub">
      </a>
    </div>
  </header>
  <main class="post">
    <div class="post-content post-article">
      <div class="post-container">
          <h1 class="post-title">The importance of CDN</h1>
          <h2 class="post-subtitle">Mar 11, 2013</h2>

        <p><em><a href="http://imasters.com.br/desenvolvimento/a-importancia-de-uma-cdn/">Leia em PortuguÃªs.</a></em></p>
<p>Some weeks ago we announced the preview release of <a href="http://alloyui.com">AlloyUI 2.0</a>. One of the cool things about it is that now we have a pretty new <a href="http://en.wikipedia.org/wiki/Content_delivery_network">CDN (Content Delivery Network)</a>. So instead of downloading AlloyUI to use in your local environment, you just to need copy and paste this line of code and start using it.</p>
<!-- more -->
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://cdn.alloyui.com/2.0.0pr2/aui/aui-min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></code></pre>

<h2 id="why-it-s-so-important-to-use-a-file-hosted-on-a-cdn-">Why it&#39;s so important to use a file hosted on a CDN?</h2>
<p>Basically for performance improvements, we&#39;ll dig into some of them.</p>
<h3 id="decrease-latency">Decrease latency</h3>
<p>Let&#39;s say you are in China and your server is in Los Angeles. When you load a file the browsers sends a HTTP request that will go across the globe until reach your server and, as you can see, it takes time.</p>
<p>However if this file is hosted on a CDN it will be distributed across many different servers in the world. So when you make a request, it will look for the nearest server, which decreases latency time a lot.</p>
<p><img src="http://imasters.com.br/wp-content/uploads/2013/03/1.jpg" alt="Tradicional scheme vs CDN scheme of distribution"></p>
<p><em>Image: Traditional scheme of distribution vs CDN scheme of distribution</em></p>
<h3 id="more-parallel-downloads">More parallel downloads</h3>
<p>Browsers can&#39;t handle too many parallel downloads per domain.</p>
<p><img src="http://imasters.com.br/wp-content/uploads/2013/03/2.jpg" alt="Not much parallel downloads"></p>
<p>That&#39;s why hosting files in different domains is a good performance tip.</p>
<p><img src="http://imasters.com.br/wp-content/uploads/2013/03/3.jpg" alt="Not much parallel downloads"></p>
<h3 id="cache">Cache</h3>
<p>Let&#39;s say you visited a website that uses AlloyUI hosted on CDN, as soon as you load it your browser will automatically cache it in your machine. Then if you visit another website that uses AlloyUI too, you don&#39;t need to download all those files again because you already have cached them.</p>
<h2 id="what-s-the-real-benefit-">What&#39;s the real benefit?</h2>
<p>Let&#39;s try those performance improvements in real life. My experiment will load the exact same file using a CDN and don&#39;t using it.</p>
<p><strong>Didn&#39;t use CDN:</strong></p>
<p><img src="http://imasters.com.br/wp-content/uploads/2013/03/4.jpg" alt="Didn&#39;t use CDN"></p>
<p>When you load <a href="http://js.liferay.com/aui/2.0.0pr2/aui/aui-min.js">this file</a>, that is not hosted on a CDN with a 10mb internet connection, you take 1.27 seconds with 404ms of latency.</p>
<p><strong>Use CDN:</strong></p>
<p><img src="http://imasters.com.br/wp-content/uploads/2013/03/5.jpg" alt="Use CDN"></p>
<p>But when you load <a href="http://cdn.alloyui.com/2.0.0pr2/aui/aui-min.js">this file</a>, that is now hosted on a CDN with the same internet connection, you take 314ms with 155ms of latency.</p>
<p>That&#39;s a 75% decrease and this is only one file!</p>
<p>Now imagine a lot of modules and its dependencies being loaded, it will cause a significant difference.</p>
<h2 id="conclusion">Conclusion</h2>
<p>And that&#39;s all folks! If you have any questions please comment below :)</p>

      </div>
    </div>
  </main>



</body>
</html>